# linux命令行
## 目录
- [linux命令行](#linux命令行)
  - [目录](#目录)
  - [find](#find)
    - [find \[查找路径\] \[查找条件\] -exec \[要执行的命令\] {} \\;](#find-查找路径-查找条件--exec-要执行的命令--)

## find
用于在文件系统中递归搜索文件和目录。
这是一个标准的 Unix/Linux 工具，功能强大，支持按名称、类型、时间、大小等条件查找。
### find [查找路径] [查找条件] -exec [要执行的命令] {} \\;
eg.`find dir1 -type d -exec mkdir -p -- dir2/{} \;`
- `dir1`
作为起始搜索路径。
- `-type d`(directory)
匹配全部子目录（递归，包括嵌套的每一层）,这意味着命令会找出所有目录:
  >包含当前目录 .；
包含直接子目录（如 ./a、./b）；
也包含深层嵌套的子目录（如 ./a/x/y/z、./docs/api/v2/internal 等）；
默认是深度优先、递归遍历整个目录树。

如果想限制搜索深度,可以使用 `-maxdepth` 选项：
```bash
find . -maxdepth 0 -type d
# 输出: .
```
-maxdepth N 表示最多深入 N 层（. 是第 0 层）
常见type类型:
| 类型代码 | 含义 | 说明 |
|----------|------|------|
| `f` | regular file | 普通文件（文本、图片、可执行文件等） |
| `d` | directory | 目录 |
| `l` | symbolic link | 符号链接（软链接） |
| `c` | character special | 字符设备文件（如 `/dev/tty`） |
| `b` | block special | 块设备文件（如 `/dev/sda`） |
| `p` | named pipe (FIFO) | 命名管道 |
| `s` | socket | Unix 域套接字 |
| `D` | door (Solaris) | 门（仅 Solaris 系统） |

- `-exec`(execute)
表示对每一个匹配到的结果，执行后面的命令。
它会为每个找到的项目启动一个新的进程来运行指定命令。
命令必须以 \; 或 + 结尾（见下文）。

- `mkdir -p`(parent)
懂得都懂

- `--`
选项结束符.
告诉 mkdir：
**后面的内容都是参数（路径），即使以 - 开头也不要当作选项**
这是一种安全实践，防止目录名以 - 开头时被误解析为命令选项（如 -rf 之类）。
- `dir2/{}`
这是要创建的目标路径模板.
`{}`：由 `find` 自动替换的占位符，代表`find`找到的相对路径目录名
>如果 find 找到 ./src/utils，
那么 {} 就是 ./src/utils，
整个路径变成：../dest/./src/utils
mkdir -p 会创建这个路径（注意 ./ 在路径中是合法的，会被系统忽略）。

- `\;`
标记 `-exec` 命令的结束.
分号` ;` 本身是 shell 的命令分隔符，所以必须转义（用 `\`）或加引号，否则 shell 会在 `find` 看到它之前就解析掉。
`\;` 告诉 find：**这就是 -exec 要执行的完整命令**。
每个匹配项都会单独执行一次该命令（即每找到一个目录，就调用一次 mkdir）
相当于
`-exec command {1}`
`-exec command {2}`
`-exec command {3}`
而加号`+`也可以标记:`-exec` 命令的结束.但有所不同
行为：将多个结果拼成一个长参数列表，一次性传给 command（类似 xargs）
相当于`-exec command {1} {2} {3}...`

| 特性 | `{} \;` | `{} +` |
|------|--------|--------|
| 调用次数 | 每个结果调用一次 | 所有结果调用一次 |
| `{}` 替换 | 每次替换为单个路径 | 替换为多个路径空格分隔 |
| 适用命令 | 任何命令 | 仅适用于能接受多个参数的命令 |
| 效率 | 较低（进程开销大） | 较高（减少 fork） |
>对比：如果用 + 代替 \;（即 -exec mkdir ... {} +），find 会把多个结果批量传给一个命令，效率更高，但这里因为路径是拼接的，通常还是用 \; 
如果使用`+`,只有第一个路径被拼接了dir2/，后面的路径直接裸露,直接在当前目录生成